// BuiltinsGlulx.def - Glulx builtin function database -*- C++ -*-//
//
// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
// See https://llvm.org/LICENSE.txt for license information.
// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception
//
//===----------------------------------------------------------------------===//
///
/// \file
/// This file defines the Glulx-specific builtin function database.
/// Users of this file must define the BUILTIN macro to make use of this
/// information.
///
//===----------------------------------------------------------------------===//

// The format of this database matches clang/Basic/Builtins.def.

#if defined(BUILTIN) && !defined(TARGET_BUILTIN)
#   define TARGET_BUILTIN(ID, TYPE, ATTRS, FEATURE) BUILTIN(ID, TYPE, ATTRS)
#endif

// We ignore the fact that dividing by zero has a side effect (killing the
// program) since direct usage of the DIV instruction also does this.
BUILTIN(__div, "iii", "nc")
BUILTIN(__mod, "iii", "nc")

BUILTIN(__catch, "ii*", "nj")
BUILTIN(__throw, "vii", "nr")

BUILTIN(__malloc, "v*z", "n")
BUILTIN(__mfree, "vv*", "n")

BUILTIN(__setiosys, "vii", "")
BUILTIN(__streamchar, "vUi", "")
BUILTIN(__streamnum, "vi", "")
BUILTIN(__streamstr, "vv*", "")
BUILTIN(__streamunichar, "vUi", "")

BUILTIN(__quit, "v", "nr")

BUILTIN(__gestalt, "iii", "nc")
BUILTIN(__debugtrap, "vi", "n")
BUILTIN(__glk, "iii", "")

BUILTIN(__ceil, "ff", "nc")
BUILTIN(__floor, "ff", "nc")
BUILTIN(__sqrt, "ff", "nc")
BUILTIN(__exp, "ff", "nc")
BUILTIN(__log, "ff", "nc")
BUILTIN(__pow, "fff", "nc")
BUILTIN(__sin, "ff", "nc")
BUILTIN(__cos, "ff", "nc")
BUILTIN(__tan, "ff", "nc")
BUILTIN(__asin, "ff", "nc")
BUILTIN(__acos, "ff", "nc")
BUILTIN(__atan, "ff", "nc")
BUILTIN(__atan2, "fff", "nc")

BUILTIN(__push, "vi", "n")
BUILTIN(__pop, "i", "n")

#undef BUILTIN
#undef TARGET_BUILTIN
